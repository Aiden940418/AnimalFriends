--입양공고 관련 테이블 --
DROP SEQUENCE ANO;
DROP TABLE ADOPT;


CREATE SEQUENCE ANO NOCACHE;

CREATE TABLE ADOPT(

    ANO NUMBER PRIMARY KEY,
    AMNO NUMBER NOT NULL,
    AAREA VARCHAR2(1000) NOT NULL,
    ATYPE VARCHAR2(1000) NOT NULL,
    ATITLE VARCHAR2(1000) NOT NULL,
    ADATE DATE NOT NULL,
    ACOUNT NUMBER DEFAULT 0,
    ANMNAME VARCHAR2(1000) NOT NULL,
    ANMAGE NUMBER NOT NULL,
    ANMBREED VARCHAR2(1000) NOT NULL,
    ANMGENDER VARCHAR2(10) NOT NULL,
    ANMVCNYN VARCHAR2(2) NOT NULL,
    ANMNTRYN VARCHAR2(2) NOT NULL,
    APHONE VARCHAR2(1000) NULL,
    AMEMO VARCHAR2(1000) NULL,
    AIMG VARCHAR2(2000) NOT NULL, 
    ATHUMBIMG VARCHAR2(2000) NOT NULL,
    

 
 FOREIGN KEY(AMNO) REFERENCES MEMBER(MNO)ON DELETE CASCADE,    
 CONSTRAINT ANMGENDERCHK CHECK(ANMGENDER IN('수컷','암컷')),
 CONSTRAINT ANMVCNYNCHK CHECK(ANMVCNYN IN('Y','N')),
 CONSTRAINT ANMNTRYNCHK CHECK(ANMNTRYN IN('Y','N'))
 

);

-- adopt comment db table --

DROP TABLE ADOPTCOMMENT;
DROP SEQUENCE ACOMNO;

CREATE SEQUENCE ACOMNO;
CREATE TABLE ADOPTCOMMENT(

    ACOMNO NUMBER PRIMARY KEY,
    ANO NUMBER NOT NULL,
    WRITER VARCHAR2(200) NOT NULL,
    ACOMCONTENT VARCHAR2(2000) NOT NULL,
    ACOMDATE DATE NOT NULL,
    
    FOREIGN KEY(ANO) REFERENCES ADOPT(ANO)ON DELETE CASCADE 


);


commit




