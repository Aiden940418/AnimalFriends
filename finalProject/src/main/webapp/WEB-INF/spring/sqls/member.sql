drop table MEMBER;
DROP SEQUENCE MNO;

DROP TABLE MEMBER CASCADE CONSTRAINTS;

CREATE SEQUENCE MNO NOCACHE;

CREATE TABLE MEMBER (

    MNO NUMBER PRIMARY KEY,
    MROLE VARCHAR2(100) NOT NULL,
    MJOINYN VARCHAR2(2) NOT NULL,
    MID VARCHAR2(1000) UNIQUE NOT NULL,
    MPW VARCHAR2(1000) NOT NULL,
    MADDR1 VARCHAR2(1000) NOT NULL,
    MADDR2 VARCHAR2(1000) NOT NULL,
    MADDR3 VARCHAR2(1000) NOT NULL,
    MNAME VARCHAR2(1000) NOT NULL,
    MNICK VARCHAR2(1000) NOT NULL,
    MPHONE VARCHAR2(1000) NOT NULL,
    SBISNUM VARCHAR2(1000) NULL,
    SSELLNUM VARCHAR2(1000) NULL,
    
    
    CONSTRAINT MJOINYN_CHK CHECK(MJOINYN IN('Y','N'))
    

);

DROP TABLE MEMBER CASCADE CONSTRAINTS;

SELECT * FROM MEMBER;

DROP TABLE SMEMBER;
CREATE TABLE SMEMBER(

    MID VARCHAR2(1000),
    SBISNUM VARCHAR2(1000) NOT NULL,
    SSELLNUM VARCHAR2(1000) NOT NULL,
    
    foreign key(MID) references MEMBER(MID)

);

INSERT INTO MEMBER VALUES(
MNO.NEXTVAL,2,'Y','admin','1234','1234','서울시','아파트','관리자','관리자','01088349078','23241213','213213213'
);

INSERT INTO MEMBER VALUES(
MNO.NEXTVAL,1,'Y','bohoso','5678','5678','서울시','아파트','보호소','보호소','01023337058'
);

INSERT INTO MEMBER VALUES(
MNO.NEXTVAL,2,'Y','admin','1234','1234','서울시','아파트','관리자','관리자','01088349078','23241213','213213213'
);


COMMIT

SELECT * FROM SMEMBER;



SELECT MID FROM MEMBER
WHERE MID = 'kwanyeol'

DELETE FROM MEMBER
WHERE MID = 123 AND MNO = 2;


SELECT *
FROM SMEMBER;


SELECT m.*, s.* 
FROM MEMBER m, SMEMBER s
WHERE m.MNO = s.SNO;







commit
