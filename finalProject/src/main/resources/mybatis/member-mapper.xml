<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  

   
   
  
  
  
    <mapper>
    
    
    
    

   <select id="login" parameterType="memberDto" resultType="memberDto">
  
  	SELECT MNO, MROLE, MJOINYN, MID, MPW, MADDR1, MADDR2, MADDR3, MNAME, MNICK, MPHONE
  	FROM MEMBER
  	WHERE MID = #{mId}
  	AND MPW = #{mPw}
  
  </select>
  
  
  	<insert id="signUp" parameterType="memberDto">
  	
  	
  	INSERT INTO MEMBER
  	VALUES(MNO.NEXTVAL, #{mRole}, #{mJoinYn}, #{mId}, #{mPw},#{mAddr1}, #{mAddr2}, #{mAddr3},#{mName},#{mNick}, #{mPhone} )
  	
  	
  	</insert>
  	
  	
  	<insert id="signUpS" parameterType="memberDto">
  	
  	
  	INSERT ALL
  	
  	INTO MEMBER
  	VALUES(MNO.NEXTVAL, #{mRole}, #{mJoinYn}, #{mId}, #{mPw},#{mAddr1}, #{mAddr2}, #{mAddr3},#{mName},#{mNick}, #{mPhone} )
  	
  	INTO SMEMBER
  	VALUES(#{sBisNum}, #{sSellNum})
  	
  	
  	
  	
  	</insert>
  
  
  
  
  	<select id="idChk" resultType="memberDto">
  	
  	SELECT MID
  	FROM MEMBER
  	WHERE MID = #{mId}
  	
  	
  	</select>
  	
  	
  	
  	
  	<select id="pwChk" parameterType="int">
  	
  	SELECT COUNT(*)
  	FROM MEMBER
  	WHERE MPW = #{mPw} AND MNO = #{mNo}
  	
  	
  	
  	</select>
  	
  	

   
   
    
   
   
   
  
  
  
    </mapper>
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    

    
  