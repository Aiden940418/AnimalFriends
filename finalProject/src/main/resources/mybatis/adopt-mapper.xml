<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="adopt">
  	
   <resultMap type="adoptDto" id="adoptMap"> <!-- 아까 정해준 별칭 boardDto  -->
     <result property="aNo" column="ANO"/>
     <result property="aMNo" column="AMNO"/>
     <result property="aArea" column="AAREA"/>
     <result property="aType" column="ATYPE"/>
     <result property="aTitle" column="ATITLE"/>
     <result property="aDate" column="ADATE"/>
     <result property="aCount" column="ACOUNT"/>
     <result property="anmName" column="ANMNAME"/>
     <result property="anmAge" column="ANMAGE" />
     <result property="anmBreed" column="ANMBREED"/>
     <result property="anmGender" column="ANMGENDER"/>
     <result property="anmVcnYn" column="ANMVCNYN"/>
     <result property="anmNtrYn" column="ANMNTRYN"/>
     <result property="aPhone" column="APHONE"/>
     <result property="aMemo" column="AMEMO"/>
     </resultMap>
     
     
     
     <!-- 전체 입양공고 리스트  -->
     
     <select id="adoptList" resultMap="adoptMap">
     
     
  	SELECT ANO, AMNO, AAREA, ATYPE, ATITLE, ADATE, ACOUNT, ANMNAME, ANMAGE, ANMBREED, ANMGENDER, ANMVCNYN, ANMNTRYN, APHONE, AMEMO
    FROM ADOPT
     
     </select>
     
     
     <!--  전체 입양공고 디테일(상세)  -->
     
    <select id="adoptDetail" parameterType="adoptDto" resultType="adoptDto">
  
  	SELECT ANO, AMNO, AAREA, ATYPE, ATITLE, ADATE, ACOUNT, ANMNAME, ANMAGE, ANMBREED, ANMGENDER, ANMVCNYN, ANMNTRYN, APHONE, AMEMO
  	FROM ADOPT
  	WHERE ANO = #{aNo}
  
  </select>
  
    	
    	
   <!--  나의 입양공고 전체리스트업 -->
   
  	<select id="myAdoptList" parameterType="int" resultMap="adoptMap" >
  	
  	SELECT *
  	FROM ADOPT
  	WHERE AMNO = #{mNo}
  	
  	</select>
  
  <!--  나의 입양공고 상세보기  -->
  
   <select id="myAdoptDetail" parameterType="adoptDto" resultType="adoptDto">
   
    SELECT ANO, AMNO, AAREA, ATYPE, ATITLE, ADATE, ACOUNT, ANMNAME, ANMAGE, ANMBREED, ANMGENDER, ANMVCNYN, ANMNTRYN, APHONE, AMEMO
  	FROM ADOPT
  	WHERE ANO = #{aNo}
  	
   </select>
  
  
  
  <!--  나의 입양공고 작성하기  -->
  
  <insert id="myadoptWrite" parameterType="adoptDto">
  	
  	INSERT INTO ADOPT
  	VALUES(ANO.NEXTVAL, #{aMNo}, #{aArea}, #{aType}, #{aTitle}, SYSDATE, 12 ,#{anmName}, #{anmAge}, #{anmBreed},
  	#{anmGender}, #{anmVcnYn}, #{anmNtrYn}, #{aPhone}, #{aMemo}  )
  	
  </insert>
  
  
  <!-- 나의 입양공고 수정  -->
  	
  	
  <update id="myAdoptUpdate"  parameterType="adoptDto">
     UPDATE ADOPT
     SET ATITLE=#{aTitle}, ANMNAME=#{anmName}, ANMBREED=#{anmBreed}, ANMAGE=#{anmAge}, APHONE=#{aPhone}, AMEMO=#{aMemo}
     WHERE ANO = #{aNo}
  
  </update>
  	
  	
  	<!-- 나의 입양공고 삭제 -->
  	
  	
  	<delete id="myAdoptDelete" parameterType="int">
  	
  	DELETE FROM ADOPT
  	WHERE ANO = #{aNo}
  	
  	
  	
  	
  	</delete>
  	
  
  
  
  
  
  </mapper>